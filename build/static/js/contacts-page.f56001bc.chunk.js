(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[2],{149:function(t,e,n){t.exports={App:"App_App__16ZpL",container:"App_container__1MQN3",title:"App_title__-GfWs",contacts__title:"App_contacts__title__3a-ik",add__btn:"App_add__btn__1cn98",filter__add__container:"App_filter__add__container__2iOpB",main__title:"App_main__title__15qBx",login__container:"App_login__container__1CoUi",reg__container:"App_reg__container__1clPi",addContact__container:"App_addContact__container__3Rk0R"}},206:function(t,e,n){t.exports={container:"ContactForm_container__1INJV",formContainer:"ContactForm_formContainer__ad5_t",formLabel:"ContactForm_formLabel__1hDC-",inputForm:"ContactForm_inputForm__2GJhT",formBtn:"ContactForm_formBtn__1YZTU"}},208:function(t,e,n){t.exports={contactList:"ContactList_contactList__3MzlG",contactListItem:"ContactList_contactListItem__1l6Fa",contactData:"ContactList_contactData__18BiC",removeButton:"ContactList_removeButton__1aF_o"}},209:function(t,e,n){t.exports={filterContainer:"Filter_filterContainer__2eDOn"}},335:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return q}));var a={};n.r(a),n.d(a,"addContact",(function(){return v})),n.d(a,"deleteContact",(function(){return x})),n.d(a,"initContacts",(function(){return h}));var c={};n.r(c),n.d(c,"getAllContacts",(function(){return k})),n.d(c,"getFilterValue",(function(){return L})),n.d(c,"getSearchedContacts",(function(){return N})),n.d(c,"getModalValue",(function(){return w})),n.d(c,"getLoadingValue",(function(){return A}));var r=n(149),o=n.n(r),i=n(172),s=n(0),u=n(10),l=n(206),_=n.n(l),d=n(334),f=n(336),b=n(12),p=n(22),j=n.n(p),m=n(33),C=n(24),O=n.n(C);O.a.defaults.baseURL="https://connections-api.herokuapp.com";var h=function(){return function(){var t=Object(m.a)(j.a.mark((function t(e){var n,a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(Object(b.initContactsRequest)()),t.prev=1,t.next=4,O.a.get("/contacts");case 4:n=t.sent,a=n.data,e(Object(b.initContactsSuccess)(a)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e(Object(b.initContactsError)(t.t0));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},v=function(t,e){return function(){var n=Object(m.a)(j.a.mark((function n(a){var c,r,o;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c={name:t,number:e},a(Object(b.addContactRequest)()),n.prev=2,n.next=5,O.a.post("/contacts",c);case 5:r=n.sent,o=r.data,a(Object(b.addContactSuccess)(o)),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(2),a(Object(b.addContactError)(n.t0));case 13:case"end":return n.stop()}}),n,null,[[2,10]])})));return function(t){return n.apply(this,arguments)}}()},x=function(t){return function(){var e=Object(m.a)(j.a.mark((function e(n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(Object(b.deleteContactRequest)()),e.prev=1,e.next=4,O.a.delete("/contacts/".concat(t));case 4:n(Object(b.deleteContactSuccess)(t)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),n(Object(b.deleteContactError)(e.t0));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},g=n(38),k=function(t){return t.contacts.items},L=function(t){return t.contacts.filter},w=function(t){return t.contacts.modal},A=function(t){return t.contacts.loading},N=Object(g.a)([k,L],(function(t,e){return t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))})),F=n(2);function y(){var t=Object(s.useState)(""),e=Object(i.a)(t,2),n=e[0],c=e[1],r=Object(s.useState)(""),o=Object(i.a)(r,2),l=o[0],b=o[1],p=Object(u.b)(),j=Object(s.useCallback)((function(t){var e=t.currentTarget,n=e.name,a=e.value;switch(n){case"name":c(a);break;case"number":b(a);break;default:console.warn("Error")}}),[]);return Object(F.jsx)("div",{className:_.a.container,children:Object(F.jsxs)("form",{onSubmit:function(t){t.preventDefault(),p(a.addContact(n,l))},className:_.a.formContainer,children:[Object(F.jsx)(d.a,{style:{margin:10},fullWidth:!0,name:"name",label:"Name",type:"text",value:n,onChange:j}),Object(F.jsx)(d.a,{style:{marginBottom:20},fullWidth:!0,name:"number",label:"Phone number",type:"text",value:l,onChange:j}),Object(F.jsx)(f.a,{disableRipple:!0,color:"primary",variant:"contained",fullWidth:!0,type:"submit",children:"Add contact"})]})})}var B=n(208),S=n.n(B),R=n(209),D=n.n(R);function E(){var t=Object(u.b)(),e=Object(u.c)(c.getFilterValue);return Object(F.jsx)("div",{className:D.a.filterContainer,children:Object(F.jsx)(d.a,{fullWidth:!0,style:{marginBottom:10},name:"filter",label:"Contact search",value:e,onChange:function(e){var n=e.currentTarget.value;t(b.filterContacts(n))}})})}function V(){var t=Object(u.b)(),e=Object(u.c)(c.getSearchedContacts);Object(s.useEffect)((function(){t(a.initContacts())}),[t]);var n=Object(s.useCallback)((function(e){return t(a.deleteContact(e))}),[t]);return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(E,{}),Object(F.jsx)("ul",{className:S.a.contactList,children:e&&e.map((function(t){var e=t.name,a=t.number,c=t.id;return Object(F.jsxs)("li",{className:S.a.contactListItem,children:[Object(F.jsxs)("p",{className:S.a.contactData,children:[e,": ",a]}),Object(F.jsx)("button",{className:S.a.removeButton,type:"button",onClick:function(){return n(c)},children:"X"})]},c)}))})]})}var W=n(333);function q(){return Object(F.jsxs)("div",{children:[Object(F.jsx)("div",{className:o.a.filter__add__container}),Object(F.jsx)(W.a,{elevation:3,className:o.a.addContact__container,children:Object(F.jsx)(y,{})}),Object(F.jsxs)("div",{className:o.a.container,children:[Object(F.jsx)("h2",{className:o.a.contacts__title,children:"Contact list"}),Object(F.jsx)(V,{})]})]})}}}]);
//# sourceMappingURL=contacts-page.f56001bc.chunk.js.map